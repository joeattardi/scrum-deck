<div *ngIf="!loading" id="game-root">
  <section id="game-container">
    <div id="game-header">
      <h1><i class="fa fa-users"></i> {{gameName$ | async}}</h1>
      <div>
        <strong>Game ID:</strong> {{gameId$ | async}} 
        <button id="clipboard-copy" title="Copy to clipboard" [attr.data-clipboard-text]="gameId$ | async">
          <i class="fa fa-clipboard"></i>
        </button>
      </div>
    </div>

    <div id="game-buttons">
      <button (click)="newGame()">New Round</button>
    </div>

    <div id="game-area">
      <div *ngFor="let player of players" class="player">
        <div class="player-name">{{player.name}}</div>
        <app-card-placeholder *ngIf="!votes[player.id]"></app-card-placeholder>
        <app-card *ngIf="votes[player.id]" [value]="votes[player.id]" [flipped]="!cardsVisible" [back]="player.name[0].toUpperCase()"></app-card>
      </div>
    </div>

    <app-deck *ngIf="!voted" (vote)="vote($event)"></app-deck>
    <div id="voted" *ngIf="voted">Your vote: <app-card [value]="myVote"></app-card></div>
  </section>
  <section id="participants">
    <h1>Participants</h1>
    <ul>
      <li *ngFor="let player of players">
        <i class="fa fa-user"></i>
        {{player.name}}
        <i *ngIf="votes[player.id]" class="fa fa-check"></i>
      </li>
    </ul>
  </section>
</div>
<div *ngIf="loading">
  <app-loader color="rgba(52, 114, 215, 0.2)" activeColor="#3472D7"></app-loader>
</div>